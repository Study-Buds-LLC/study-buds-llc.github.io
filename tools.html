<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Study Buds</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Roboto', sans-serif;
  background-color: #f8f9fa;
  margin: 0;
  padding: 0;
  text-align: center;
}

/* Prevent scroll while loading */
body.loading { overflow: hidden; }

/* Loader overlay */
#loader {
  position: fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background: url("bg.jpg");
  background-repeat: no-repeat;
  background-size: cover;
  justify-content:center;
  align-items:center;
  z-index:10000;
  display: flex;
}

/* Lumo spin */
#loader img {
  width:80px;
  height:80px;
  animation: pulse 1s ease-in-out infinite;
}


@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* Header */
header h1 {
  font-size: 3rem;
  font-weight: 700;
  margin: 3rem 0 2rem;
  color: #333;
}

/* Nav buttons */
.nav-link-btn {
  display: inline-block;
  margin: 0.5rem;
  padding: 0.8rem 2rem;
  border-radius: 999px;
  border: 1px solid #ccc;
  background-color: #fff;
  font-weight: 500;
  transition: all 0.2s;
  text-decoration: none;
  color: #333;
  cursor: pointer;
}

.nav-link-btn:hover { background-color: #e0e0e0; }

/* Sections */
.featured, .optional-container {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1.5rem;
  margin: 2rem 0;
}

.featured img, .optional-container img {
  border-radius: 12px;
  border: 2px solid #ccc;
  transition: transform 0.2s, box-shadow 0.2s;
  max-width: 100%;
  height: auto;
}

.featured img:hover, .optional-container img:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.back-to-school {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1rem;
  margin: 2rem 0;
}

.back-to-school h2 {
  font-size: 2rem;
  color: #333;
}

.beta-tag {
  display: inline-block;
  background-color: #ff4c4c;
  color: white;
  font-size: 0.6em;
  font-weight: bold;
  padding: 0.2em 0.6em;
  margin-left: 0.5em;
  border-radius: 12px;
  vertical-align: middle;
}

iframe {
  display: block;
  margin: 2rem auto;
  border: 5px solid #ccc;
  border-radius: 20px;
  max-width: 100%;
}

/* Overlay */
#overlay {
  display: none;
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.5);
  z-index:9999;
}

/* Popups */
.popup {
  display: none;
  position: fixed;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
  padding: 25px 25px 15px 25px;
  z-index: 10000;
  width: 360px;
  max-height: 80%;
  overflow-y: hidden;
  text-align: left;
}

.popup img { width:50px; display:block; margin:0 auto 10px; }

.popup .close-btn {
  position: absolute;
  top:10px;
  right:10px;
  background:#ff4c4c;
  color:#fff;
  border:none;
  font-weight:bold;
  border-radius:50%;
  width:28px;
  height:28px;
  cursor:pointer;
  font-size:16px;
}

.popup h3 { text-align:center; margin-top:10px; margin-bottom:15px; }

#dictionaryListContainer {
  max-height:300px;
  overflow-y:auto;
  padding-right:5px;
}

#dictionaryList { list-style:none; padding:0; margin:0; }

#dictionaryList li {
  margin-bottom:12px;
  padding-bottom:8px;
  border-bottom:1px solid #eee;
}

#dictionaryList li .word { font-weight:700; font-size:1rem; color:#333; }
#dictionaryList li .meaning { font-weight:400; font-size:0.95rem; color:#555; margin-top:2px; }
#spinner {
  display: block;
}
</style>
</head>
<body class="loading">

<!-- Loader -->
<div id="loader">
  <div id="spinner">
    <img src="lumo.png" alt="Lumo">
    <br>
    <h3 style="font-family: Verdana, Geneva, Tahoma, sans-serif;">LOADING...</h3>
  </div>
</div>

<!-- Overlay -->
<div id="overlay"></div>

<!-- Internet popup -->
<div id="internetPopup" class="popup">
  <button class="close-btn" id="closeInternet">&times;</button>
  <img src="lumo.png" alt="Lumo">
  <p id="internetMsg">Reconnecting...</p>
</div>

<!-- Dictionary popup -->
<div id="dictionaryPopup" class="popup">
  <button class="close-btn" id="closeDict">&times;</button>
  <img src="lumo.png" alt="Lumo">
  <h3>Study Buds Dictionary ðŸ“š</h3>
  <div id="dictionaryListContainer"><ul id="dictionaryList"></ul></div>
</div>

<!-- Page content -->
<header>
  <h1>Study Buds</h1>
</header>

<nav>
  <a href="tools.html" class="nav-link-btn">Main Items</a>
  <a href="stories.html" class="nav-link-btn">Stories</a>
  <a href="lumo_dress_up.html" class="nav-link-btn">Dress Up Lumo!</a>
  <a href="code-editor.html" class="nav-link-btn">Let's Code!</a>
  <a href="js-blog.html" class="nav-link-btn">Learn JS</a>
  <button class="nav-link-btn" onclick="showDictionary()">Dictionary ðŸ“š</button>
</nav>

<div class="featured">
  <a href="main daily.html" target="_blank"><img src="DailyQuiz.png" alt="Daily Quiz" width="600"></a>
</div>

<div class="optional-container">
  <a href="science.html" target="_blank"><img src="Science.png" alt="Science Fun" width="300"></a>
  <a href="english.html" target="_blank"><img src="English.png" alt="English Fun" width="300"></a>
  <a href="chinese.html" target="_blank"><img src="Chinese.png" alt="Chinese Fun" width="300"></a>
  <a href="thai.html" target="_blank"><img src="Thai.png" alt="Thai Fun" width="300"></a>
  <a href="sciencequiz.html" target="_blank"><img src="Science Quiz.png" alt="Science Quiz Fun Beta" width="300"></a>
  <a href="mixed.html" target="_blank"><img src="mixed.png" alt="Mixed Park Challenge" width="300"></a>
</div>

<div class="back-to-school">
  <h2>Study Buds Back to School! ðŸŽ’ <span class="beta-tag">BETA</span></h2>
</div>

<iframe src="schedule.html" width="640" height="480" title="Study Buds Schedule"></iframe>

<div class="back-to-school">
  <h2>AI Assistant</h2>
</div>

<iframe src="stage.html" width="640" height="480" title="Study Buds Schedule"></iframe>

<div class="back-to-school">
  <h2>Clicker Game (Ice)</h2>
</div>

<iframe src="clicker.html" width="640" height="480" title="Study Buds Schedule"></iframe>

<script>
const overlay = document.getElementById("overlay");
function showOverlay(){ overlay.style.display="block"; }
function hideOverlay(){ overlay.style.display="none"; }

// Internet popup
const internetPopup = document.getElementById("internetPopup");
const internetMsg = document.getElementById("internetMsg");
const closeInternet = document.getElementById("closeInternet");
function showInternet(message){ internetMsg.textContent=message; internetPopup.style.display="block"; showOverlay(); }
function hideInternet(){ internetPopup.style.display="none"; hideOverlay(); }
closeInternet.onclick=hideInternet;
window.addEventListener('offline',()=>showInternet("Reconnecting..."));
window.addEventListener('online',()=>{
  showInternet("Back Online âœ…");
  setTimeout(hideInternet,3000);
});
if(!navigator.onLine) showInternet("Reconnecting...");

// Dictionary popup
const dictionaryPopup=document.getElementById("dictionaryPopup");
const dictionaryList=document.getElementById("dictionaryList");
const closeDict=document.getElementById("closeDict");
closeDict.onclick=()=>{ dictionaryPopup.style.display="none"; hideOverlay(); };

const dictionaryEntries=[
  { word:"Study", meaning:"To learn about something" },
  { word:"Buds", meaning:"Friends or companions" },
  { word:"Lumo", meaning:"The Study Buds mascot worm ðŸ›" },
  { word:"Quiz", meaning:"A short test to check knowledge" },
  { word:"Science", meaning:"The study of the natural world" },
  { word:"Math", meaning:"The study of numbers and shapes" },
  { word:"English", meaning:"The language we use to read and write" },
  { word:"Chinese", meaning:"The Chinese language" },
  { word:"Schedule", meaning:"A plan for your day or week" },
  { word:"Lesson", meaning:"A period of learning on a topic" },
  { word:"Homework", meaning:"Tasks to do at home for school" },
  { word:"Experiment", meaning:"A test to see how something works" },
  { word:"Project", meaning:"A creative task or assignment" },
  { word:"Play", meaning:"Time for fun and games" },
  { word:"Read", meaning:"To look at and understand words" },
  { word:"Write", meaning:"To put words on paper or screen" },
  { word:"Learn", meaning:"To gain knowledge or skills" },
  { word:"Brain", meaning:"The organ in your head that thinks" },
  { word:"Friend", meaning:"Someone you like to spend time with" },
  { word:"Teacher", meaning:"Someone who helps you learn" },
  { word:"Puzzle", meaning:"A problem or game to solve" },
  { word:"Fun", meaning:"Something that is enjoyable or amusing" },
  { word:"Challenge", meaning:"Something that is difficult but exciting" }
];

function showDictionary(){
  dictionaryList.innerHTML="";
  dictionaryEntries.forEach(entry=>{
    const li=document.createElement("li");
    li.innerHTML=`<div class="word">${entry.word}</div><div class="meaning">${entry.meaning}</div>`;
    dictionaryList.appendChild(li);
  });
  dictionaryPopup.style.display="block";
  showOverlay();
}
// Hide loader after full page load, with minimum display time
const MIN_LOADER_TIME = 1500; // in ms (1.5s)
const loaderStart = Date.now();

window.addEventListener('load', () => {
  const elapsed = Date.now() - loaderStart;
  const remaining = MIN_LOADER_TIME - elapsed;

  setTimeout(() => {
    document.getElementById('loader').style.opacity = 0;
    document.getElementById('loader').style.transition = 'opacity 0.5s ease';
    setTimeout(() => {
      document.getElementById('loader').style.display = 'none';
      document.body.classList.remove('loading');
    }, 500);
  }, remaining > 0 ? remaining : 0);
});

</script>
</body>
</html>
